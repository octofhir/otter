[package]
name = "otter-sql"
version = "0.1.0"
edition = "2024"
description = "SQL API for Otter - SQLite and PostgreSQL support"
license = "MIT"
repository = "https://github.com/octofhir/otter"
homepage = "https://github.com/octofhir/otter"
keywords = ["sql", "sqlite", "postgresql", "database", "runtime"]
categories = ["database", "api-bindings"]

[dependencies]
otter-runtime = { path = "../otter-runtime", version = "0.1.3" }

# SQLite
rusqlite = { version = "0.32", features = ["bundled", "backup", "blob", "functions"] }

# PostgreSQL
tokio-postgres = { version = "0.7", features = ["with-serde_json-1"] }
deadpool-postgres = "0.14"
deadpool = "0.12"
postgres-native-tls = "0.5"
native-tls = "0.2"

# Async runtime
tokio = { version = "1", features = ["rt", "sync", "time", "macros", "fs"] }

# Serialization
serde = { version = "1", features = ["derive"] }
serde_json = "1"

# Error handling
thiserror = "2"
anyhow = "1"

# Utils
parking_lot = "0.12"
tracing = "0.1"
bytes = "1"
futures-util = "0.3"
async-trait = "0.1"
once_cell = "1"
url = "2"

[dev-dependencies]
tokio = { version = "1", features = ["full", "test-util"] }
tempfile = "3"
