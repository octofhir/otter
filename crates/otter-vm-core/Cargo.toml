[package]
name = "otter-vm-core"
version = "0.1.0"
edition = "2024"
description = "Core VM execution engine for Otter"
license = "MIT"

[features]
default = []
profiling = ["dep:otter-profiler"]
jit = ["dep:otter-vm-jit"]

[dependencies]
otter-vm-bytecode = { path = "../otter-vm-bytecode" }
otter-vm-gc = { path = "../otter-vm-gc" }
otter-macros = { path = "../otter-macros" }
otter-vm-jit = { path = "../otter-vm-jit", optional = true }
otter-profiler = { path = "../otter-profiler", optional = true }
thiserror.workspace = true
parking_lot = "0.12"
dashmap = "6"
rustc-hash = "2"
regress = { git = "https://github.com/ridiculousfish/regress.git", features = ["utf16"] }
regex = "1"
num-bigint = "0.4"
num-traits = "0.2"
chrono = "0.4"
half = "2.4"
serde_json = "1.0"
indexmap = "2"
unicode-normalization = "0.1"
fixed_decimal = { version = "0.7.1", features = ["ryu"] }
icu_decimal = "2.1.1"
icu_locale = "2.1.1"
writeable = "0.6.2"
temporal_rs = { version = "0.2.0", features = ["compiled_data"] }

[dev-dependencies]
criterion = { version = "0.8", features = ["html_reports"] }

[[bench]]
name = "ic_benchmarks"
harness = false

[[bench]]
name = "dictionary_mode_benchmarks"
harness = false

[[bench]]
name = "numeric_loops"
harness = false

[[bench]]
name = "gc_bench"
harness = false
