[package]
name = "otter-node"
version = "0.1.3"
edition = "2024"
description = "Node.js API layer for Otter"
license = "MIT"
repository = "https://github.com/octofhir/otter"
homepage = "https://github.com/octofhir/otter"
keywords = ["typescript", "javascript", "nodejs", "runtime", "compatibility"]
categories = ["development-tools", "api-bindings"]
readme = "README.md"

[dependencies]
otter-engine = { path = "../otter-engine", version = "0.1.3" }
otter-macros = { path = "../otter-macros", version = "0.1.0" }
otter-runtime = { path = "../otter-runtime", version = "0.1.3" }
tokio = { version = "1", features = ["fs", "process", "io-util", "net", "sync"] }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
base64 = "0.22"
hex = "0.4"
pathdiff = "0.2"
ring = "0.17"
md-5 = "0.10"
sha1 = { version = "0.10", features = ["oid"] }
sha2 = { version = "0.10", features = ["oid"] }
pbkdf2 = "0.12"
scrypt = "0.11"
aes = "0.8"
ctr = "0.9"
cbc = "0.1"
cipher = "0.4"
aes-gcm = "0.10"
chacha20poly1305 = "0.10"
rsa = { version = "0.9", features = ["pem"] }
p256 = { version = "0.13", features = ["ecdsa", "pkcs8"] }
ed25519-dalek = { version = "2", features = ["pkcs8"] }
pkcs8 = "0.10"
spki = "0.7"
pem = "3"
rand_core = "0.6"
uuid = { version = "1", features = ["v4"] }
getrandom = "0.3"
parking_lot = "0.12"
thiserror = "2"
tokio-tungstenite = { version = "0.28", features = ["native-tls"] }
futures-util = "0.3"
url = "2"
reqwest = { version = "0.13", features = ["json", "stream"] }
bytes = "1"
http = "1"
# HTTP server
hyper = { version = "1", features = ["http1", "http2", "server"] }
hyper-util = { version = "0.1", features = ["tokio", "http1", "http2", "server-auto"] }
http-body-util = "0.1"
# TLS
rustls = "0.23"
tokio-rustls = "0.26"
rustls-pemfile = "2"
# Compression (zlib)
flate2 = { version = "1.1", features = ["zlib-rs"] }
brotli = "8"
# DNS
hickory-resolver = { version = "0.25", features = ["tokio"] }
# Utils
slab = "0.4"
dashmap = "6"
pin-project-lite = "0.2"
tracing = "0.1"
lazy_static = "1"

[target.'cfg(unix)'.dependencies]
libc = "0.2"

[dev-dependencies]
tokio = { version = "1", features = ["full", "test-util"] }
tempfile = "3"
