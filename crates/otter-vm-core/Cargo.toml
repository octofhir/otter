[package]
name = "otter-vm-core"
version = "0.1.0"
edition = "2024"
description = "Core VM execution engine for Otter"
license = "MIT"

[features]
default = []
profiling = ["dep:otter-profiler"]

[dependencies]
otter-vm-bytecode = { path = "../otter-vm-bytecode" }
otter-vm-gc = { path = "../otter-vm-gc" }
otter-profiler = { path = "../otter-profiler", optional = true }
thiserror.workspace = true
parking_lot = "0.12"
dashmap = "6"
rustc-hash = "2"
regress = { version = "0.10.5", features = ["utf16"] }
regex = "1"
num-bigint = "0.4"
num-traits = "0.2"
chrono = "0.4"
half = "2.4"
serde_json = "1.0"

[dev-dependencies]
criterion = { version = "0.8", features = ["html_reports"] }

[[bench]]
name = "ic_benchmarks"
harness = false

[[bench]]
name = "dictionary_mode_benchmarks"
harness = false

[[bench]]
name = "numeric_loops"
harness = false

[[bench]]
name = "gc_bench"
harness = false
